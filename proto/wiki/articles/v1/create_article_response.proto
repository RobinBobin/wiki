edition = "2023";

package wiki.articles.v1;

import "google/protobuf/empty.proto";
import "wiki/articles/v1/create_article_request.proto";

message CreateArticleResponse {
  message ErrorInvalidField {
    string field_name = 1;
  }

  message Error {
    oneof error_type {
      google.protobuf.Empty duplicate_title = 1;
      ErrorInvalidField invalid_field = 2;
    }
  }

  message OkResponse {
    int64 created_at = 1;
    uint32 id = 2;
  }

  CreateArticleRequest request = 1;
  oneof response {
    OkResponse ok = 2;
    Error error = 3;
  }
}
